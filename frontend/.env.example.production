# =============================================================================
# PIXCRAWLER FRONTEND - PRODUCTION ENVIRONMENT CONFIGURATION
# =============================================================================
# This file contains production-specific configuration for the Next.js application.
# Copy this file to .env.production and update with your production values.
#
# IMPORTANT: Never commit .env.production with real credentials to version control!
# =============================================================================

# =============================================================================
# PRODUCTION DEPLOYMENT INSTRUCTIONS
# =============================================================================
#
# This file documents the differences between development and production
# configurations. Use this as a reference when deploying to production.
#
# Deployment Platforms:
# - Vercel (Recommended for Next.js)
# - Azure Static Web Apps
# - Other platforms supporting Next.js
#
# =============================================================================

# =============================================================================
# SUPABASE CLIENT CONFIGURATION (Production)
# =============================================================================

# Supabase Project URL (Public)
# - Development: https://dev-project-id.supabase.co
# - Production: https://prod-project-id.supabase.co
# - Note: Use separate Supabase projects for dev and production
# - Required: Yes
NEXT_PUBLIC_SUPABASE_URL=https://your-production-project.supabase.co

# Supabase Anonymous Key (Public)
# - Development: Development project anon key
# - Production: Production project anon key
# - Note: Different key for each Supabase project
# - Required: Yes
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_production_supabase_anon_key

# PostgreSQL Connection URL (Optional)
# - Development: Development database connection
# - Production: Production database connection
# - Note: Use production Supabase database
# - Required: No (only if using direct database access)
POSTGRES_URL=postgresql://postgres:[PASSWORD]@db.[PROD-PROJECT-ID].supabase.co:5432/postgres

# =============================================================================
# API CONFIGURATION (Production)
# =============================================================================

# Backend API Base URL (Public)
# - Development: http://localhost:8000
# - Production: https://api.pixcrawler.io (or your production API domain)
# - Note: Must use HTTPS in production
# - Required: Yes
# - Example: https://api.pixcrawler.io, https://pixcrawler-api.azurewebsites.net
NEXT_PUBLIC_API_URL=https://api.pixcrawler.io

# =============================================================================
# LEMON SQUEEZY INTEGRATION (Production)
# =============================================================================

# Lemon Squeezy API Key (Server-side Only)
# - Get from: https://app.lemonsqueezy.com/settings/api
# - Security: NEVER expose to browser! Server-side only!
# - Required: Yes (for payment processing)
LEMONSQUEEZY_API_KEY=your_production_lemonsqueezy_api_key

# Lemon Squeezy Store ID
# - Get from: https://app.lemonsqueezy.com/settings/stores
# - Required: Yes (for payment processing)
LEMONSQUEEZY_STORE_ID=your_production_store_id

# Lemon Squeezy Webhook Secret (Server-side Only)
# - Get from: https://app.lemonsqueezy.com/settings/webhooks
# - Note: Create webhook endpoint: https://your-domain.com/api/webhooks/lemonsqueezy
# - Required: Yes (for webhook verification)
LEMONSQUEEZY_WEBHOOK_SECRET=your_production_webhook_secret

# Lemon Squeezy Variant IDs (Production)
# - Create products and variants in Lemon Squeezy Dashboard
# - Get variant IDs from product settings
# - Required: Yes (for checkout sessions)

LEMONSQUEEZY_HOBBY_VARIANT_ID=your_production_hobby_variant_id
LEMONSQUEEZY_PRO_VARIANT_ID=your_production_pro_variant_id
LEMONSQUEEZY_PAYG_VARIANT_ID=your_production_payg_variant_id
LEMONSQUEEZY_CREDITS_1000_VARIANT_ID=your_production_1000_credits_variant_id
LEMONSQUEEZY_CREDITS_5000_VARIANT_ID=your_production_5000_credits_variant_id
LEMONSQUEEZY_CREDITS_10000_VARIANT_ID=your_production_10000_credits_variant_id

# =============================================================================
# RESEND EMAIL SERVICE (Production)
# =============================================================================

# Resend API Key (Server-side Only)
# - Development: Test API key
# - Production: Production API key
# - Note: Use separate API keys for dev and production
# - Required: No (only if using email)
RESEND_API_KEY=re_your_production_resend_api_key

# Contact Form Recipient Email
# - Development: test@example.com
# - Production: contact@pixcrawler.io (your actual contact email)
# - Required: No (only if using contact form)
CONTACT_EMAIL=contact@pixcrawler.io

# Email Sender Address
# - Development: onboarding@resend.dev (Resend test domain)
# - Production: noreply@pixcrawler.io (your verified domain)
# - Note: Must verify domain in Resend dashboard for production
# - Required: No (only if using email)
FROM_EMAIL=noreply@pixcrawler.io

# =============================================================================
# APPLICATION SETTINGS (Production)
# =============================================================================

# Application Public URL (Public)
# - Development: http://localhost:3000
# - Production: https://pixcrawler.io or https://app.pixcrawler.io
# - Note: Must use HTTPS in production
# - Required: Yes
NEXT_PUBLIC_APP_URL=https://pixcrawler.io

# Node Environment
# - Development: development
# - Production: production
# - Note: Automatically set by Next.js build/start commands
# - Required: No
NODE_ENV=production

# =============================================================================
# DEPLOYMENT PLATFORM INSTRUCTIONS
# =============================================================================

# -----------------------------------------------------------------------------
# VERCEL DEPLOYMENT (Recommended)
# -----------------------------------------------------------------------------
#
# 1. Install Vercel CLI:
#    npm install -g vercel
#
# 2. Login to Vercel:
#    vercel login
#
# 3. Deploy from frontend directory:
#    cd frontend
#    vercel --prod
#
# 4. Set environment variables in Vercel Dashboard:
#    - Go to: Project Settings > Environment Variables
#    - Add all variables from this file
#    - Set environment: Production
#    - Redeploy after adding variables
#
# 5. Configure custom domain (optional):
#    - Go to: Project Settings > Domains
#    - Add your custom domain
#    - Update NEXT_PUBLIC_APP_URL to match
#
# 6. Configure build settings:
#    - Build Command: bun run build (or npm run build)
#    - Output Directory: .next
#    - Install Command: bun install (or npm install)
#    - Node.js Version: 18.x or higher
#
# 7. Environment-specific variables:
#    - Production: Use live Lemon Squeezy keys, production Supabase project
#    - Preview: Use test Lemon Squeezy keys, staging Supabase project
#    - Development: Use test keys, development Supabase project
#
# -----------------------------------------------------------------------------
# AZURE STATIC WEB APPS DEPLOYMENT
# -----------------------------------------------------------------------------
#
# 1. Create Azure Static Web App:
#    - Go to: Azure Portal > Create Resource > Static Web App
#    - Choose GitHub repository
#    - Set build details:
#      - App location: /frontend
#      - Output location: .next
#
# 2. Configure build:
#    - Create staticwebapp.config.json (see task 4.1)
#    - Set build command: bun run build (or npm run build)
#
# 3. Set environment variables:
#    - Go to: Azure Portal > Static Web App > Configuration
#    - Add all variables from this file
#    - Note: Azure uses "Application settings" instead of "Environment variables"
#
# 4. Configure custom domain (optional):
#    - Go to: Azure Portal > Static Web App > Custom domains
#    - Add your custom domain
#    - Update NEXT_PUBLIC_APP_URL to match
#
# 5. Configure API backend:
#    - Set NEXT_PUBLIC_API_URL to your Azure App Service URL
#    - Example: https://pixcrawler-api.azurewebsites.net
#
# 6. Enable HTTPS:
#    - Azure Static Web Apps automatically provides HTTPS
#    - Ensure all URLs use https:// in production
#
# -----------------------------------------------------------------------------
# OTHER PLATFORMS (Netlify, AWS Amplify, etc.)
# -----------------------------------------------------------------------------
#
# 1. Consult platform documentation for Next.js deployment
# 2. Set all environment variables in platform dashboard
# 3. Configure build command: bun run build (or npm run build)
# 4. Configure output directory: .next
# 5. Ensure Node.js version is 18.x or higher
# 6. Use HTTPS for all production URLs
#
# =============================================================================

# =============================================================================
# PRODUCTION CHECKLIST
# =============================================================================
#
# Before deploying to production, verify:
#
# [ ] Separate Supabase projects for dev and production
# [ ] Production Supabase project has RLS policies enabled
# [ ] Live Lemon Squeezy API key configured
# [ ] Production Lemon Squeezy webhook endpoint created
# [ ] Resend domain verified for production emails
# [ ] Custom domain configured (if applicable)
# [ ] All URLs use HTTPS (no http://)
# [ ] NEXT_PUBLIC_API_URL points to production backend
# [ ] NEXT_PUBLIC_APP_URL matches production domain
# [ ] Environment variables set in deployment platform
# [ ] OAuth callback URLs updated for production domain
# [ ] CORS configured in backend for production domain
# [ ] Database migrations applied to production database
# [ ] Monitoring and error tracking configured
# [ ] SSL/TLS certificates valid
# [ ] CDN configured (if applicable)
# [ ] Rate limiting enabled in backend
# [ ] Security headers configured (CSP, HSTS, etc.)
#
# =============================================================================

# =============================================================================
# SECURITY CONSIDERATIONS
# =============================================================================
#
# Production Security Best Practices:
#
# 1. Secrets Management:
#    - Never commit .env.production with real secrets
#    - Use platform environment variables (Vercel, Azure)
#    - Consider Azure Key Vault for sensitive data
#    - Rotate keys regularly (every 90 days)
#
# 2. HTTPS Everywhere:
#    - All production URLs must use HTTPS
#    - Enable HSTS (HTTP Strict Transport Security)
#    - Use secure cookies (Supabase handles this)
#
# 3. API Security:
#    - Backend must validate all requests
#    - Enable rate limiting in production
#    - Use CORS to restrict allowed origins
#    - Implement proper authentication checks
#
# 4. Database Security:
#    - Enable Row Level Security (RLS) policies
#    - Use separate database for production
#    - Regular backups (Supabase handles this)
#    - Monitor for suspicious activity
#
# 5. Monitoring:
#    - Set up error tracking (Sentry, LogRocket, etc.)
#    - Monitor API usage and performance
#    - Set up alerts for critical errors
#    - Review logs regularly
#
# =============================================================================

# =============================================================================
# DIFFERENCES FROM DEVELOPMENT
# =============================================================================
#
# Key differences between development and production:
#
# 1. URLs:
#    - Dev: http://localhost:3000, http://localhost:8000
#    - Prod: https://pixcrawler.io, https://api.pixcrawler.io
#
# 2. Supabase:
#    - Dev: Development project with test data
#    - Prod: Production project with real user data
#
# 3. Lemon Squeezy:
#    - Dev: Test mode (automatic in development)
#    - Prod: Live mode (production API key)
#
# 4. Email:
#    - Dev: Resend test domain (onboarding@resend.dev)
#    - Prod: Verified custom domain (noreply@pixcrawler.io)
#
# 5. Node Environment:
#    - Dev: development (verbose errors, hot reload)
#    - Prod: production (optimized, minified)
#
# 6. Security:
#    - Dev: Relaxed CORS, detailed errors
#    - Prod: Strict CORS, generic errors
#
# 7. Performance:
#    - Dev: Unoptimized, source maps enabled
#    - Prod: Optimized, minified, compressed
#
# =============================================================================
